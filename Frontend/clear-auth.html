<!DOCTYPE html>
<html>
<head>
    <title>Clear Auth Data</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 50px; text-align: center; }
        button { padding: 10px 20px; background: #dc2626; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; }
        button:hover { background: #b91c1c; }
        .success { color: #059669; margin-top: 20px; }
    </style>
</head>
<body>
    <h2>Clear Authentication Data</h2>
    <p>Use this to clear stored tokens if you're getting "token expired" errors.</p>
    <button onclick="clearAuth()">Clear All Auth Data</button>
    <div id="message"></div>

    <script>
        function clearAuth() {
            try {
                // Clear localStorage
                localStorage.removeItem('auth_token');
                localStorage.removeItem('user_data');
                localStorage.removeItem('auth-store');
                
                // Clear sessionStorage
                sessionStorage.removeItem('github_oauth_state');
                
                // Clear all localStorage items that might be related to auth
                Object.keys(localStorage).forEach(key => {
                    if (key.includes('auth') || key.includes('token') || key.includes('user')) {
                        localStorage.removeItem(key);
                    }
                });
                
                document.getElementById('message').innerHTML = 
                    '<div class="success">✅ Authentication data cleared successfully!<br>You can now close this tab and try logging in again.</div>';
                    
                console.log('Authentication data cleared');
            } catch (error) {
                document.getElementById('message').innerHTML = 
                    '<div style="color: red;">❌ Error clearing data: ' + error.message + '</div>';
            }
        }
    </script>
</body>
</html> 